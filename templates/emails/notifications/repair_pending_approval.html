{% extends "emails/base.html" %}

{% block email_title %}Repair Approval Needed - {{ unit_number }}{% endblock %}

{% block preheader %}A windshield repair request for unit {{ unit_number}} requires your approval. Estimated cost: ${{ estimated_cost }}.{% endblock %}

{% block content %}
<!-- Attention Badge -->
<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
    <tr>
        <td style="text-align: center; padding-bottom: 20px;">
            <div style="display: inline-block; background-color: {{ branding.warning_color }}; color: white; padding: 10px 20px; border-radius: {{ branding.button_border_radius }}px; font-family: {{ branding.heading_font }}; font-size: 14px; font-weight: bold; letter-spacing: 0.5px;">
                âš  APPROVAL NEEDED
            </div>
        </td>
    </tr>
</table>

<!-- Main Heading -->
<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
    <tr>
        <td style="padding-bottom: 20px;">
            <h1 style="margin: 0; color: {{ branding.text_color }}; font-family: {{ branding.heading_font }}; font-size: 24px; font-weight: bold; line-height: 1.3;">
                Repair Approval Required
            </h1>
            <p style="margin: 10px 0 0 0; color: #666666; font-family: {{ branding.body_font }}; font-size: 16px; line-height: 24px;">
                A windshield repair request has been submitted by {{ technician_name }} and needs your approval to proceed.
            </p>
        </td>
    </tr>
</table>

<!-- Repair Details Card -->
<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color: #f8f9fa; border-radius: 8px; margin-bottom: 30px;">
    <tr>
        <td style="padding: 25px;">
            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                <tr>
                    <td style="padding-bottom: 15px; border-bottom: 2px solid {{ branding.primary_color }};">
                        <h2 style="margin: 0; color: {{ branding.primary_color }}; font-family: {{ branding.heading_font }}; font-size: 18px; font-weight: bold;">
                            Repair Request Details
                        </h2>
                    </td>
                </tr>
                <tr>
                    <td style="padding-top: 15px;">
                        <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
                            <tr>
                                <td style="padding: 8px 0; font-family: {{ branding.body_font }}; font-size: 14px; line-height: 20px;">
                                    <strong style="color: {{ branding.text_color }};">Repair ID:</strong>
                                    <span style="color: #666666;">#{{ repair_id }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 8px 0; font-family: {{ branding.body_font }}; font-size: 14px; line-height: 20px;">
                                    <strong style="color: {{ branding.text_color }};">Unit Number:</strong>
                                    <span style="color: #666666;">{{ unit_number }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 8px 0; font-family: {{ branding.body_font }}; font-size: 14px; line-height: 20px;">
                                    <strong style="color: {{ branding.text_color }};">Technician:</strong>
                                    <span style="color: #666666;">{{ technician_name }}</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 8px 0; font-family: {{ branding.body_font }}; font-size: 14px; line-height: 20px;">
                                    <strong style="color: {{ branding.text_color }};">Estimated Cost:</strong>
                                    <span style="color: {{ branding.warning_color }}; font-weight: bold; font-size: 18px;">${{ estimated_cost }}</span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- Action Required Section -->
<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin-bottom: 30px;">
    <tr>
        <td style="padding-bottom: 15px;">
            <h2 style="margin: 0; color: {{ branding.text_color }}; font-family: {{ branding.heading_font }}; font-size: 18px; font-weight: bold;">
                Action Required
            </h2>
        </td>
    </tr>
    <tr>
        <td>
            <p style="margin: 0 0 20px 0; color: #666666; font-family: {{ branding.body_font }}; font-size: 14px; line-height: 22px;">
                Please review this repair request and approve or deny it at your earliest convenience. The technician will be notified of your decision.
            </p>
        </td>
    </tr>
</table>

<!-- CTA Button -->
<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="margin-bottom: 30px;">
    <tr>
        <td style="text-align: center;">
            <a href="{{ action_url }}" style="display: inline-block; background-color: {{ branding.primary_color }}; color: white; padding: 14px 36px; text-decoration: none; border-radius: {{ branding.button_border_radius }}px; font-family: {{ branding.heading_font }}; font-size: 16px; font-weight: bold;">
                Review Repair Request
            </a>
        </td>
    </tr>
</table>

<!-- Help Text -->
<table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%">
    <tr>
        <td style="padding: 20px; background-color: #f0f4f8; border-radius: 8px; border-left: 4px solid {{ branding.primary_color }};">
            <p style="margin: 0; color: #666666; font-family: {{ branding.body_font }}; font-size: 13px; line-height: 20px;">
                <strong style="color: {{ branding.text_color }};">Need help?</strong><br>
                If you have questions about this repair request, please contact {{ technician_name }} or your account manager.
            </p>
        </td>
    </tr>
</table>
{% endblock %}
